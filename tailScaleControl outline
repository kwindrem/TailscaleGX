/data/VenusRemoteSsh/tailscaled -no-logs-no-support -statedir /datasetupOptions/VenusRemoteSsh/tailscale


create dbus settings:
	/Enabled = False
	/LoginLink = "" (here or in service ???)

create com.victronenergy.remoteSsh dbus service
	/Status (up/down/not logged in/ ???)
	/LoginAgain = False - GUI writes true to trigger a logout
	/IPv4
	/IPv6

loop:
	tailscale status

	update /Status
		up/down/not logged in, etc
		update service /Status
		if logged in:
			update /LoginInfo /IPv4, /IPv6
	if /Enabled and tailScaleStarter is not running:
		start tailScaleStarter
	elif not /Enabled and tailScaleStarter is running:
		stop tailScaleStarter

	if /Enabled and tailscale reports down or not logged in:
		if not logged in:
			tailscale login
		else:
			tailscale up
	elif not /Enabled and tailscale reports up:
		tailscale down

	if /LoginAgain:
		/LoginAgain = False # ack request
		tailscale login

	TBD delay to wait for services and broker

	sleep (1.0) ????

Menu:
	title Remote SSH via tailscale
	/Enabled on/off

	if /IPv4 != "" or /IPv6 != "":
		show /IPv4
		show IPv6
	elif /LoginLink != "":
		show /LoginLink
		show insructions to create account and follow the link in /LoginInfo
	else:
		?????

	Refresh login button
		/LoginAgain = True
